/**
 * Bundled by jsDelivr using Rollup v2.79.2 and Terser v5.39.0.
 * Original file: /npm/fast-diff@1.3.0/diff.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var n=-1;function t(f,b,o,v,A){if(f===b)return f?[[0,f]]:[];if(null!=o){var m=function(n,t,r){var e="number"==typeof r?{index:r,length:0}:r.oldRange,i="number"==typeof r?null:r.newRange,l=n.length,s=t.length;if(0===e.length&&(null===i||0===i.length)){var g=e.index,h=n.slice(0,g),u=n.slice(g),a=i?i.index:null,c=g+s-l;if((null===a||a===c)&&!(c<0||c>s)){var f=t.slice(0,c);if((v=t.slice(c))===u){var b=Math.min(g,c);if((m=h.slice(0,b))===(M=f.slice(0,b)))return p(m,h.slice(b),f.slice(b),u)}}if(null===a||a===g){var o=g,v=(f=t.slice(0,o),t.slice(o));if(f===h){var A=Math.min(l-o,s-o);if((d=u.slice(u.length-A))===(x=v.slice(v.length-A)))return p(h,u.slice(0,u.length-A),v.slice(0,v.length-A),d)}}}if(e.length>0&&i&&0===i.length){var m=n.slice(0,e.index),d=n.slice(e.index+e.length);if(!(s<(b=m.length)+(A=d.length))){var M=t.slice(0,b),x=t.slice(s-A);if(m===M&&d===x)return p(m,n.slice(b,l-A),t.slice(b,s-A),d)}}return null}(f,b,o);if(m)return m}var d=e(f,b),M=f.substring(0,d);d=l(f=f.substring(d),b=b.substring(d));var x=f.substring(f.length-d),E=function(i,s){var g;if(!i)return[[1,s]];if(!s)return[[n,i]];var h=i.length>s.length?i:s,u=i.length>s.length?s:i,a=h.indexOf(u);if(-1!==a)return g=[[1,h.substring(0,a)],[0,u],[1,h.substring(a+u.length)]],i.length>s.length&&(g[0][0]=g[2][0]=n),g;if(1===u.length)return[[n,i],[1,s]];var c=function(n,t){var r=n.length>t.length?n:t,i=n.length>t.length?t:n;if(r.length<4||2*i.length<r.length)return null;function s(n,t,r){for(var i,s,g,h,u=n.substring(r,r+Math.floor(n.length/4)),a=-1,c="";-1!==(a=t.indexOf(u,a+1));){var f=e(n.substring(r),t.substring(a)),b=l(n.substring(0,r),t.substring(0,a));c.length<b+f&&(c=t.substring(a-b,a)+t.substring(a,a+f),i=n.substring(0,r-b),s=n.substring(r+f),g=t.substring(0,a-b),h=t.substring(a+f))}return 2*c.length>=n.length?[i,s,g,h,c]:null}var g,h,u,a,c,f=s(r,i,Math.ceil(r.length/4)),b=s(r,i,Math.ceil(r.length/2));if(!f&&!b)return null;g=b?f&&f[4].length>b[4].length?f:b:f;n.length>t.length?(h=g[0],u=g[1],a=g[2],c=g[3]):(a=g[0],c=g[1],h=g[2],u=g[3]);var o=g[4];return[h,u,a,c,o]}(i,s);if(c){var f=c[0],b=c[1],o=c[2],v=c[3],p=c[4],A=t(f,o),m=t(b,v);return A.concat([[0,p]],m)}return function(t,e){for(var i=t.length,l=e.length,s=Math.ceil((i+l)/2),g=s,h=2*s,u=new Array(h),a=new Array(h),c=0;c<h;c++)u[c]=-1,a[c]=-1;u[g+1]=0,a[g+1]=0;for(var f=i-l,b=f%2!=0,o=0,v=0,p=0,A=0,m=0;m<s;m++){for(var d=-m+o;d<=m-v;d+=2){for(var M=g+d,x=(L=d===-m||d!==m&&u[M-1]<u[M+1]?u[M+1]:u[M-1]+1)-d;L<i&&x<l&&t.charAt(L)===e.charAt(x);)L++,x++;if(u[M]=L,L>i)v+=2;else if(x>l)o+=2;else if(b){if((y=g+f-d)>=0&&y<h&&-1!==a[y])if(L>=(w=i-a[y]))return r(t,e,L,x)}}for(var E=-m+p;E<=m-A;E+=2){for(var w,y=g+E,C=(w=E===-m||E!==m&&a[y-1]<a[y+1]?a[y+1]:a[y-1]+1)-E;w<i&&C<l&&t.charAt(i-w-1)===e.charAt(l-C-1);)w++,C++;if(a[y]=w,w>i)A+=2;else if(C>l)p+=2;else if(!b){if((M=g+f-E)>=0&&M<h&&-1!==u[M]){var L;x=g+(L=u[M])-M;if(L>=(w=i-w))return r(t,e,L,x)}}}}return[[n,t],[1,e]]}(i,s)}(f=f.substring(0,f.length-d),b=b.substring(0,b.length-d));return M&&E.unshift([0,M]),x&&E.push([0,x]),c(E,A),v&&function(t){var r=!1,e=[],f=0,b=null,o=0,v=0,p=0,A=0,m=0;for(;o<t.length;)0==t[o][0]?(e[f++]=o,v=A,p=m,A=0,m=0,b=t[o][1]):(1==t[o][0]?A+=t[o][1].length:m+=t[o][1].length,b&&b.length<=Math.max(v,p)&&b.length<=Math.max(A,m)&&(t.splice(e[f-1],0,[n,b]),t[e[f-1]+1][0]=1,f--,o=--f>0?e[f-1]:-1,v=0,p=0,A=0,m=0,b=null,r=!0)),o++;r&&c(t);(function(n){function t(n,t){if(!n||!t)return 6;var r=n.charAt(n.length-1),e=t.charAt(0),i=r.match(s),l=e.match(s),c=i&&r.match(g),f=l&&e.match(g),b=c&&r.match(h),o=f&&e.match(h),v=b&&n.match(u),p=o&&t.match(a);return v||p?5:b||o?4:i&&!c&&f?3:c||f?2:i||l?1:0}var r=1;for(;r<n.length-1;){if(0==n[r-1][0]&&0==n[r+1][0]){var e=n[r-1][1],i=n[r][1],c=n[r+1][1],f=l(e,i);if(f){var b=i.substring(i.length-f);e=e.substring(0,e.length-f),i=b+i.substring(0,i.length-f),c=b+c}for(var o=e,v=i,p=c,A=t(e,i)+t(i,c);i.charAt(0)===c.charAt(0);){e+=i.charAt(0),i=i.substring(1)+c.charAt(0),c=c.substring(1);var m=t(e,i)+t(i,c);m>=A&&(A=m,o=e,v=i,p=c)}n[r-1][1]!=o&&(o?n[r-1][1]=o:(n.splice(r-1,1),r--),n[r][1]=v,p?n[r+1][1]=p:(n.splice(r+1,1),r--))}r++}})(t),o=1;for(;o<t.length;){if(t[o-1][0]==n&&1==t[o][0]){var d=t[o-1][1],M=t[o][1],x=i(d,M),E=i(M,d);x>=E?(x>=d.length/2||x>=M.length/2)&&(t.splice(o,0,[0,M.substring(0,x)]),t[o-1][1]=d.substring(0,d.length-x),t[o+1][1]=M.substring(x),o++):(E>=d.length/2||E>=M.length/2)&&(t.splice(o,0,[0,d.substring(0,E)]),t[o-1][0]=1,t[o-1][1]=M.substring(0,M.length-E),t[o+1][0]=n,t[o+1][1]=d.substring(E),o++),o++}o++}}(E),E}function r(n,r,e,i){var l=n.substring(0,e),s=r.substring(0,i),g=n.substring(e),h=r.substring(i),u=t(l,s),a=t(g,h);return u.concat(a)}function e(n,t){if(!n||!t||n.charAt(0)!==t.charAt(0))return 0;for(var r=0,e=Math.min(n.length,t.length),i=e,l=0;r<i;)n.substring(l,i)==t.substring(l,i)?l=r=i:e=i,i=Math.floor((e-r)/2+r);return f(n.charCodeAt(i-1))&&i--,i}function i(n,t){var r=n.length,e=t.length;if(0==r||0==e)return 0;r>e?n=n.substring(r-e):r<e&&(t=t.substring(0,r));var i=Math.min(r,e);if(n==t)return i;for(var l=0,s=1;;){var g=n.substring(i-s),h=t.indexOf(g);if(-1==h)return l;s+=h,0!=h&&n.substring(i-s)!=t.substring(0,s)||(l=s,s++)}}function l(n,t){if(!n||!t||n.slice(-1)!==t.slice(-1))return 0;for(var r=0,e=Math.min(n.length,t.length),i=e,l=0;r<i;)n.substring(n.length-i,n.length-l)==t.substring(t.length-i,t.length-l)?l=r=i:e=i,i=Math.floor((e-r)/2+r);return b(n.charCodeAt(n.length-i))&&i--,i}var s=/[^a-zA-Z0-9]/,g=/\s/,h=/[\r\n]/,u=/\n\r?\n$/,a=/^\r?\n\r?\n/;function c(t,r){t.push([0,""]);for(var i,s=0,g=0,h=0,u="",a="";s<t.length;)if(s<t.length-1&&!t[s][1])t.splice(s,1);else switch(t[s][0]){case 1:h++,a+=t[s][1],s++;break;case n:g++,u+=t[s][1],s++;break;case 0:var f=s-h-g-1;if(r){if(f>=0&&v(t[f][1])){var b=t[f][1].slice(-1);if(t[f][1]=t[f][1].slice(0,-1),u=b+u,a=b+a,!t[f][1]){t.splice(f,1),s--;var p=f-1;t[p]&&1===t[p][0]&&(h++,a=t[p][1]+a,p--),t[p]&&t[p][0]===n&&(g++,u=t[p][1]+u,p--),f=p}}if(o(t[s][1])){b=t[s][1].charAt(0);t[s][1]=t[s][1].slice(1),u+=b,a+=b}}if(s<t.length-1&&!t[s][1]){t.splice(s,1);break}if(u.length>0||a.length>0){u.length>0&&a.length>0&&(0!==(i=e(a,u))&&(f>=0?t[f][1]+=a.substring(0,i):(t.splice(0,0,[0,a.substring(0,i)]),s++),a=a.substring(i),u=u.substring(i)),0!==(i=l(a,u))&&(t[s][1]=a.substring(a.length-i)+t[s][1],a=a.substring(0,a.length-i),u=u.substring(0,u.length-i)));var A=h+g;0===u.length&&0===a.length?(t.splice(s-A,A),s-=A):0===u.length?(t.splice(s-A,A,[1,a]),s=s-A+1):0===a.length?(t.splice(s-A,A,[n,u]),s=s-A+1):(t.splice(s-A,A,[n,u],[1,a]),s=s-A+2)}0!==s&&0===t[s-1][0]?(t[s-1][1]+=t[s][1],t.splice(s,1)):s++,h=0,g=0,u="",a=""}""===t[t.length-1][1]&&t.pop();var m=!1;for(s=1;s<t.length-1;)0===t[s-1][0]&&0===t[s+1][0]&&(t[s][1].substring(t[s][1].length-t[s-1][1].length)===t[s-1][1]?(t[s][1]=t[s-1][1]+t[s][1].substring(0,t[s][1].length-t[s-1][1].length),t[s+1][1]=t[s-1][1]+t[s+1][1],t.splice(s-1,1),m=!0):t[s][1].substring(0,t[s+1][1].length)==t[s+1][1]&&(t[s-1][1]+=t[s+1][1],t[s][1]=t[s][1].substring(t[s+1][1].length)+t[s+1][1],t.splice(s+1,1),m=!0)),s++;m&&c(t,r)}function f(n){return n>=55296&&n<=56319}function b(n){return n>=56320&&n<=57343}function o(n){return b(n.charCodeAt(0))}function v(n){return f(n.charCodeAt(n.length-1))}function p(t,r,e,i){return v(t)||o(i)?null:function(n){for(var t=[],r=0;r<n.length;r++)n[r][1].length>0&&t.push(n[r]);return t}([[0,t],[n,r],[1,e],[0,i]])}function A(n,r,e,i){return t(n,r,e,i,!0)}A.INSERT=1,A.DELETE=n,A.EQUAL=0;var m=A,d=m.DELETE,M=m.EQUAL,x=m.INSERT;export{d as DELETE,M as EQUAL,x as INSERT,m as default};
