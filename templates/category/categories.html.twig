{% extends 'front_base.html.twig' %}

{% block title %}Course Categories - Unilearn{% endblock %}

{% block stylesheets %}
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flag-icons@6.6.6/css/flag-icons.min.css">
<style>
/* Page Banner Styles */
.page-banner {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    padding: 4rem 0;
    position: relative;
    overflow: hidden;
}

.page-banner::before {
    content: '';
    position: absolute;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 100px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 822.2 301.9'%3E%3Cpath fill='%23ffffff20' d='M752.5,51.9c-4.5,3.9-8.9,7.8-13.4,11.8c-51.5,45.3-104.8,92.2-171.7,101.4c-39.9,5.5-80.2-3.4-119.2-12.1 c-32.3-7.2-65.6-14.6-98.9-13.9c-66.5,1.3-128.9,35.2-175.7,64.6c-11.9,7.5-23.9,15.3-35.5,22.8c-40.5,26.4-82.5,53.8-128.4,70.7 c-2.1,0.8-4.2,1.5-6.2,2.2L0,301.9c3.3-1.1,6.7-2.3,10.2-3.5c46.1-17,88.1-44.4,128.7-70.9c11.6-7.6,23.6-15.4,35.4-22.8 c46.7-29.3,108.9-63.1,175.1-64.4c33.1-0.6,66.4,6.8,98.6,13.9c39.1,8.7,79.6,17.7,119.7,12.1C634.8,157,688.3,110,740,64.6 c4.5-3.9,9-7.9,13.4-11.8C773.8,35,797,16.4,822.2,1l-0.7-1C796.2,15.4,773,34,752.5,51.9z'%3E%3C/path%3E%3C/svg%3E") no-repeat bottom center;
    background-size: cover;
    opacity: 0.1;
}

.banner-content {
    position: relative;
    z-index: 2;
}

.banner-decoration {
    position: absolute;
    top: 0;
    start: 0;
}

.banner-search {
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.2);
    border-radius: 12px;
    padding: 1rem;
}

/* Category Card Styles */
.category-card {
    background: white;
    border-radius: 16px;
    padding: 2rem;
    text-align: center;
    position: relative;
    transition: all 0.3s ease;
    border: 2px solid transparent;
    text-decoration: none;
    color: inherit;
    display: block;
}

.category-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
    text-decoration: none;
    color: inherit;
}

.category-card.bg-success-opacity-10 {
    background-color: rgba(25, 135, 84, 0.1);
}

.category-card.bg-orange-opacity-10 {
    background-color: rgba(253, 126, 20, 0.1);
}

.category-card.bg-danger-opacity-10 {
    background-color: rgba(220, 53, 69, 0.1);
}

.category-card.bg-purple-opacity-10 {
    background-color: rgba(111, 66, 193, 0.1);
}

.category-card.bg-info-opacity-10 {
    background-color: rgba(13, 202, 240, 0.1);
}

.category-card.bg-blue-opacity-10 {
    background-color: rgba(0, 123, 255, 0.1);
}

.category-card.bg-warning-opacity-15 {
    background-color: rgba(255, 193, 7, 0.15);
}

.category-card.bg-dark-opacity-10 {
    background-color: rgba(33, 37, 41, 0.1);
}

.category-card.bg-primary-opacity-10 {
    background-color: rgba(13, 110, 253, 0.1);
}

.category-icon {
    width: 80px;
    height: 80px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1.5rem;
    background: white;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
}

.category-icon img {
    width: 50px;
    height: 50px;
    object-fit: contain;
}

.category-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.5rem;
}

.category-title a {
    text-decoration: none;
    color: #2c3e50;
    transition: color 0.3s ease;
}

.category-title a:hover {
    color: #007bff;
}

.category-count {
    color: #6c757d;
    font-size: 0.9rem;
    margin: 0;
}

/* Language Section Styles */
.language-card {
    background: #f8f9fa;
    border-radius: 12px;
    padding: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    transition: all 0.3s ease;
    text-decoration: none;
    color: inherit;
}

.language-card:hover {
    background: #e9ecef;
    transform: translateY(-2px);
    text-decoration: none;
    color: #007bff;
}

.language-flag {
    height: 40px;
    margin-right: 1rem;
}

.language-name {
    margin: 0;
    font-weight: 600;
}

/* Responsive Design */
@media (max-width: 768px) {
    .page-banner {
        padding:3rem 0;
    }
    
    .banner-title {
        font-size: 2rem;
    }
    
    .category-card {
        padding: 1.5rem;
    }
}
</style>
{% endblock %}

{% block content %}
<!-- Page Banner START -->
<section class="page-banner">
    <div class="container position-relative">
        <div class="row">
            <div class="col-12">
                <div class="row align-items-center">
                    <!-- Left Image -->
                    <div class="col-6 col-md-3 text-center order-1">
                        <img src="https://img.icons8.com/color/96/000000/graduation-cap.png" alt="Education Icon" class="img-fluid">
                    </div>

                    <!-- Content -->
                    <div class="col-md-6 px-md-5 text-center position-relative order-md-2 mb-5 mb-md-0">
                        <!-- Decorative elements -->
                        <div class="banner-decoration">
                            <svg width="22px" height="22px" viewBox="0 0 22 22">
                                <polygon fill="#FFA500" points="22,8.3 13.7,8.3 13.7,0 8.3,0 8.3,8.3 0,8.3 0,13.7 8.3,13.7 8.3,22 13.7,22 13.7,13.7 22,13.7"></polygon>
                            </svg>
                        </div>

                        <!-- Title -->
                        <h1 class="banner-title mb-3">What do you want to learn?</h1>
                        <p class="banner-subtitle mb-3">Grow your skill with the most reliable online courses and certifications</p>

                        <!-- Search -->
                        <form class="banner-search rounded p-2">
                            <div class="input-group">
                                <input class="form-control border-0 me-1" type="search" placeholder="Search course">
                                <button type="button" class="btn btn-dark mb-0 rounded">Search</button>
                            </div>
                        </form>
                    </div>

                    <!-- Right Image -->
                    <div class="col-6 col-md-3 text-center order-3">
                        <img src="https://img.icons8.com/color/96/000000/books.png" alt="Books Icon" class="img-fluid">
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!-- Page Banner END -->

<!-- Categories START -->
<section>
    <div class="container">
        <!-- Title -->
        <div class="row mb-4">
            <div class="col-lg-8 mx-auto text-center">
                <h2>Choose a Categories</h2>
                <p class="mb-0">Perceived end knowledge certainly day sweetness why cordially</p>
            </div>
        </div>

        <div class="row g-4">
            {% set colors = ['bg-success-opacity-10', 'bg-orange-opacity-10', 'bg-danger-opacity-10', 'bg-purple-opacity-10', 'bg-info-opacity-10', 'bg-blue-opacity-10', 'bg-warning-opacity-15', 'bg-dark-opacity-10', 'bg-primary-opacity-10'] %}
            {% set icon_mapping = {
                'code': 'bi-code',
                'palette': 'bi-palette',
                'megaphone': 'bi-megaphone',
                'pen': 'bi-pen',
                'briefcase': 'bi-briefcase',
                'data-science': 'bi-bar-chart-line',
                'online': 'bi-globe',
                'engineering': 'bi-tools',
                'coding': 'bi-code-square',
                'profit': 'bi-cash',
                'medical': 'bi-first-aid',
                'home': 'bi-house',
                'artist': 'bi-palette',
                'account': 'bi-person'
            } %}
            {% set fallback_icons = ['bi-bar-chart-line', 'bi-globe', 'bi-tools', 'bi-code-square', 'bi-cash', 'bi-first-aid', 'bi-house', 'bi-palette', 'bi-person'] %}
            
            {% for category in categories %}
                <div class="col-sm-6 col-md-4 col-xl-3">
                    <div class="category-card {{ colors[(loop.index0 % 9)|default(0)] }} position-relative btn-transition p-4">
                        <!-- Icon -->
                        <div class="category-icon">
                            {% set cat = category[0] ?? category %}
                            {% if cat.icon and cat.icon starts with 'http' %}
                                <img src="{{ cat.icon }}" alt="{{ cat.name }}" style="width: 50px; height: 50px; object-fit: contain;">
                            {% elseif cat.icon and cat.icon starts with 'bi-' %}
                                <i class="{{ cat.icon }} fs-1"></i>
                            {% elseif cat.icon and icon_mapping[cat.icon] is defined and icon_mapping[cat.icon] starts with 'bi-' %}
                                <i class="{{ icon_mapping[cat.icon] }} fs-1"></i>
                            {% elseif cat.icon and icon_mapping[cat.icon] is defined %}
                                <img src="https://img.icons8.com/color/96/{{ icon_mapping[cat.icon] }}.png" alt="{{ cat.name }}" style="width: 50px; height: 50px; object-fit: contain;">
                            {% else %}
                                <i class="{{ fallback_icons[(loop.index0 % 9)|default(0)] }} fs-1"></i>
                            {% endif %}
                        </div>
                        <!-- Title -->
                        <h5 class="category-title mb-2">
                            <a href="{{ path('app_category_detail', {'slug': category[0].slug ?? category.slug ?? '#' }) }}" class="stretched-link">{{ category[0].name ?? category.name ?? 'Unknown Category' }}</a>
                        </h5>
                        <h6 class="category-count mb-0">
                            {{ category.courseCount ?? (category[0].courseCount ?? 0) }} Courses
                        </h6>
                    </div>
                </div>
            {% else %}
                <!-- Fallback categories if none exist -->
                {% for i in 0..11 %}
                    <div class="col-sm-6 col-md-4 col-xl-3">
                        <div class="category-card {{ colors[i] }} position-relative btn-transition p-4">
                            <!-- Icon -->
                            <div class="category-icon">
                                <img src="https://img.icons8.com/color/96/{{ fallback_icons[i] }}.png" alt="Category {{ i + 1 }}" style="width: 50px; height: 50px; object-fit: contain;">
                            </div>
                            <!-- Title -->
                            <h5 class="category-title mb-2">
                                <a href="#" class="stretched-link">Category {{ i + 1 }}</a>
                            </h5>
                            <h6 class="category-count mb-0">{{ random(10, 50) }} Courses</h6>
                        </div>
                    </div>
                {% endfor %}
            {% endfor %}
        </div>
    </div>
</section>
<!-- Categories END -->

<!-- Languages START -->
<section class="py-5">
    <div class="container">
        <!-- Title -->
        <div class="row mb-4 mx-auto text-center">
            <div class="col-12">
                <h2 class="mb-0">Choose Languages</h2>
            </div>
        </div>

        <div class="row g-4">
            <!-- Language items -->
            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-fr language-flag"></span>
                    <h5 class="language-name">French</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-de language-flag"></span>
                    <h5 class="language-name">German</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-es language-flag"></span>
                    <h5 class="language-name">Spanish</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-gb language-flag"></span>
                    <h5 class="language-name">English</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-it language-flag"></span>
                    <h5 class="language-name">Italian</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-pt language-flag"></span>
                    <h5 class="language-name">Portuguese</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-cn language-flag"></span>
                    <h5 class="language-name">Chinese</h5>
                </a>
            </div>

            <div class="col-sm-6 col-md-4 col-lg-3">
                <a href="#" class="language-card">
                    <span class="fi fi-ja language-flag"></span>
                    <h5 class="language-name">Japanese</h5>
                </a>
            </div>
        </div>
    </div>
</section>
<!-- Languages END -->

<!-- Footer -->
{% include 'components/footer.html.twig' %}

{% block vendor_scripts %}
<!-- Vendors -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/tiny-slider@2.9.4/dist/min/tiny-slider.js"></script>
<script src="https://cdn.jsdelivr.net/npm/glightbox@3.3.1/dist/js/glightbox.min.js"></script>
{% endblock %}

{% block theme_scripts %}
<!-- Theme Functions -->
<script src="{{ asset('assets/js/functions-368a1da24329fd340db0030d31b36b75.js') }}"></script>
{% endblock %}

{% block javascripts %}
<script>
// Categories page specific JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // Add any category-specific functionality here
    console.log('Categories page loaded');
});
</script>
{% endblock %}

{% endblock %}
